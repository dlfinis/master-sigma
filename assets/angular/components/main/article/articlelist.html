<!-- <pre> {{$articlelist.data | json}}</pre> -->
<div class="container">
  <div class="col-sm-12">
    <div class="sort-bar" ng-show="$articlelist.data.length > 0">
        <div class="sort-item tab"
          ng-init="$articlelist.setNormalList()"
          ng-class='{"active":$articlelist.normal}'
          ng-click="$articlelist.setNormalList()"
          >
          Reciente
        </div>
        <div class="sort-item tab"
          ng-class='{"active":$articlelist.recommend}'
          ng-click="$articlelist.setRecommendList()"
          >
          Recomendados
        </div>
        <div class="sort-item sort-section">
          <div class="sort-search">
            <span class="field">Búsqueda: </span>
            <input type="text" class="form-control select2-container" ng-model="$articlelist.textSearchContent">
          </div>
          <div class="sort-category">
            <ui-select ng-init="$articlelist.getCategories()" ng-model="$articlelist.mcategory.selected" theme="select2">
             <ui-select-match placeholder="Seleccione una categoría ">{{$select.selected.name}}
             <a class="btn btn-xs" ng-click="$articlelist.clear($event, $select)"><i class="glyphicon glyphicon-remove"></i></a>
             </ui-select-match>
             <ui-select-choices repeat="mcategory in $articlelist.mcategories | orderBy:'name' | PropsFormat: {name: $select.search}">
               <div ng-bind-html="mcategory.name | highlight: $select.search"></div>
             </ui-select-choices>
            </ui-select>
          </div>
      </div>
    </div>

    <div class="col-sm-12 post animate-repeat"
          ng-animate="'animate'"
          ng-repeat="article in $articlelist.data
            |filter: $articlelist.textSearchContent
            |filter: $articlelist.mcategory.selected.name
            |limitTo: $articlelist.perPage"
          ng-show="$articlelist.data.length"
          uid ="{{article.uid}}">
          <div>
            {{$articlelist.testHtml()}}
          </div>
            <a class="image-box" ng-href="{{article.url}}" target="_blank">
            <img class="image"
            src="/images/spinner.gif"
            lazy-img="{{ $articlelist.getTrustedResource(article.image) || 'images/submarine.png' }}"
            alt=""/>
            </a>
            <div id="title" class="title"><h3 ng-bind="article.title"></h3></div>
            <div class="box">
                <div class="info">
                  <div class="editor" ng-bind="article.creator.name"></div>
                  <div class="period" period data="{{ article.date }}"></div>
                  <span>&#8226;</span>
                  <div class="reading" reading url="{{ article.url }}"></div>
                  <span ng-show="article.state === 'edit'">&#8226;</span>
                  <div class="edition" ng-show="article.state === 'edit'">Editado</div>
                  <div class="visits" ng-show="article.visits > 0">{{article.visits}} Visitas</div>
                </div>
                <p class="text" id="description" ng-bind="article.description"></p>

                <a id="url"
                ng-click="$articlelist.openModal(article)"
                class="read-more">
                  Leer más... {{article.reading}}
                </a>

             </div>
        <div class="social-bar" >
          <div class="section-btn">
            <like
                  stats="article.likes"
                  article="article"
                  article-sid="article.ownlike.sid"
                  ></like>
            <share stats="article.shares" source="article"></share>
          </div>
          <div class="categories">
            <div class="category" ng-repeat="category in article.categories">
              <span>&#8226;</span>{{category.name}}
            </div>
          </div>
        </div>
    </div>
  </div>

  <div class="col-sm-12 text-center" ng-show="$articlelist.data.length > 0">
      <!-- <ul class="pager">
          <li class="previous" ng-click="$articlelist.prevPage()" ng-disabled="$articlelist.existPage('prev')">
            <a> &larr; Previo</a>
          </li>
          <li class="next" ng-click="$articlelist.nextPage()"  ng-disabled="$articlelist.existPage('next')">
            <a> Nuevo &rarr;</a>
          </li>
      </ul> -->
      <!-- items-per-page="articlelist.perPage" -->
    <uib-pagination
    boundary-links="true"
    total-items="$articlelist.totalItems"
    max-size="$articlelist.maxSizeItems"
    num-pages="numPages"
    ng-model="$articlelist.currentPage"
    ng-change="$articlelist.pageChanged()"
    class="pagination"
    force-ellipses="true"
    previous-text="&lsaquo;"
    next-text="&rsaquo;"
    first-text="&laquo;"
    last-text="&raquo;">
    </uib-pagination>
  </div>
</div>
